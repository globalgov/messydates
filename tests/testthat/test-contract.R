test_that("contract works properly", {
  d <- as_messydate(c("2010-10-01"))
  expect_equal(contract(expand(d)), d)
  d <- as_messydate(c("2010-10"))
  expect_equal(contract(expand(d)), d)
  d <- as_messydate(c("2010"))
  expect_equal(contract(expand(d)), d)
  d <- as_messydate(c("2010-10-01..2010-11-04"))
  expect_equal(contract(expand(d)), d)
  d <- as_messydate(c("{2010-10-01,2010-10-04}"))
  expect_equal(contract(expand(d)), d)
  d <- as_messydate(c("{2001-01,2001-02-02}"))
  expect_equal(contract(expand(d)), d)
})
