<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working with messy dates • messydates</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Working with messy dates">
<meta property="og:description" content="messydates">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">messydates</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/messydates.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/globalgov/messydates" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Working with messy dates</h1>
                        <h4 data-toc-skip class="author">Henrique
Sposito</h4>
            
            <h4 data-toc-skip class="date">2024-04-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/globalgov/messydates/blob/HEAD/vignettes/messydates.Rmd" class="external-link"><code>vignettes/messydates.Rmd</code></a></small>
      <div class="hidden name"><code>messydates.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="why-messydates">Why <code>{messydates}</code>?<a class="anchor" aria-label="anchor" href="#why-messydates"></a>
</h3>
<p>Dates are often messy. Whether historical (or ancient), future, or
even recent, we sometimes only know approximately when an event
occurred, that it happened within a particular period, an unreliable
source means a date should be flagged as uncertain, or different sources
offer multiple, competing dates.</p>
<p>The goal of <a href="https://globalgov.github.io/messydates/">messydates</a> is to help with this problem by
retaining and working with various kinds of date imprecision. contains a
set of tools for constructing and coercing into and from the
<code>mdate</code> class. This date class implements <a href="https://www.iso.org/standard/70908.html" class="external-link">ISO 8601-2_2019(E)</a>
allowing regular dates to be annotated to express unspecified date
components, approximate or uncertain date components, date ranges, and
sets of dates.</p>
</div>
<div class="section level2">
<h2 id="working-with-messydates-2001-battles">Working with messydates: 2001 Battles<a class="anchor" aria-label="anchor" href="#working-with-messydates-2001-battles"></a>
</h2>
<p>Take, for example, the names and dates of battles in 2001 according
to <a href="https://en.wikipedia.org/wiki/List_of_battles_in_the_21st_century" class="external-link">Wikipedia</a>
included in . The dates of these battles are often uncertain or
approximate with different levels of date precision being reported.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://globalgov.github.io/messydates/">messydates</a></span><span class="op">)</span></span>
<span><span class="va">battles</span> <span class="op">&lt;-</span> <span class="fu">messydates</span><span class="fu">::</span><span class="va"><a href="../reference/battles.html">battles</a></span></span>
<span><span class="va">battles</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20 × 5</span></span></span>
<span><span class="co">##    Battle                               Date           Parties US_party N_actors</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;mdate&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Operation MH-2                       2001-03-08   … MK-Nat…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2001 Bangladesh–India border clashes 2001-04-16..2… BD-ID          0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Operation Vaksince                   2001-05-25   … MK-Nat…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Alkhan-Kala operation                2001-06-22..2… RU-Che…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Battle of Vedeno                     2001-08-13..2… RU-Che…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Operation Crescent Wind              2001-10-07..2… US/UK-…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Operation Rhino                      2001-10-19..2… US-Tal…        1        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Battle of Mazar-e-Sharif             2001-11-09   … US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Siege of Kunduz                      2001-11-11..2… US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Battle of Herat                      2001-11-12   … US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> Battle of Kabul                      2001-11-13..2… US/Nor…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> Battle of Tarin Kowt                 2001-11-13..2… US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> Operation Trent                      2001-11-~15..… US/UK-…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> Battle of Kandahar                   2001-11-22..2… US/AU/…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> Battle of Qala-i-Jangi               2001-11-25..2… US/UK/…        1        5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> Battle of Tora Bora                  2001-12-12..2… US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> Battle of Shawali Kowt               2001-12-03   … US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span> Battle of Sayyd Alma Kalay           2001-12-04   … US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span> Battle of Amami-Oshima               2001-12-22   … JP-KP          0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">20</span> Tsotsin-Yurt operation               2001-12-30..2… RU-Che…        0        2</span></span></code></pre>
<div class="section level3">
<h3 id="coerce-to-messydates">Coerce to messydates<a class="anchor" aria-label="anchor" href="#coerce-to-messydates"></a>
</h3>
<p>Previously researchers had to remove all types of imprecision from
date variables and create multiple variables to deal with date ranges.
<a href="https://globalgov.github.io/messydates/">messydates</a> makes it much easier to retain and work with
various kinds of date imprecision. In the 2001 battles dataset, for
example, we see that dates are not consistently reported, but
<code><a href="../reference/messydate.html">as_messydate()</a></code> still handles the coercion to
<code>mdate</code> class.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span>
<span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span></span></code></pre></div>
<pre><code><span><span class="co">##  'mdate' chr [1:20] "2001-03-08" "2001-04-16..2001-04-20" "2001-05-25" ...</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="annotate">Annotate<a class="anchor" aria-label="anchor" href="#annotate"></a>
</h3>
<p>The annotate functions in <a href="https://globalgov.github.io/messydates/">messydates</a> help annotate
censored, uncertain, and approximate dates according to <a href="https://www.iso.org/standard/70908.html" class="external-link">ISO 8601-2_2019(E)</a>
standards. Some datasets might have an arbitrary cut off point for start
and end points, that is, they are censored. But these are often coded as
precise dates when they are not necessarily the real start or end dates.
Inaccurate start or end dates can be represented by an “..” affix
indicating “on or before”, if used as a prefix, or indicating “on or
after”, if used as a suffix. In the case of the battles of 2001 dates,
if we are not sure the “Battle of Kandahar” began on the 22nd of
November or, alternatively, that the “Operation Vaksince” actually ended
in the same day it began we use <code><a href="../reference/annotate.html">on_or_before()</a></code> and
<code>on_or after()</code> to annotate these dates.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Battle</span> <span class="op">==</span> <span class="st">"Battle of Herat"</span>, <span class="fu"><a href="../reference/annotate.html">on_or_before</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span>, <span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Battle</span> <span class="op">==</span> <span class="st">"Operation Vaksince"</span>, <span class="fu"><a href="../reference/annotate.html">on_or_after</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span>, <span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">battles</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20 × 5</span></span></span>
<span><span class="co">##    Battle                               Date           Parties US_party N_actors</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;mdate&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Operation MH-2                       2001-03-08   … MK-Nat…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2001 Bangladesh–India border clashes 2001-04-16..2… BD-ID          0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Operation Vaksince                   2001-05-25.. … MK-Nat…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Alkhan-Kala operation                2001-06-22..2… RU-Che…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Battle of Vedeno                     2001-08-13..2… RU-Che…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Operation Crescent Wind              2001-10-07..2… US/UK-…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Operation Rhino                      2001-10-19..2… US-Tal…        1        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Battle of Mazar-e-Sharif             2001-11-09   … US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Siege of Kunduz                      2001-11-11..2… US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Battle of Herat                      ..2001-11-12 … US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> Battle of Kabul                      2001-11-13..2… US/Nor…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> Battle of Tarin Kowt                 2001-11-13..2… US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> Operation Trent                      2001-11-~15..… US/UK-…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> Battle of Kandahar                   2001-11-22..2… US/AU/…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> Battle of Qala-i-Jangi               2001-11-25..2… US/UK/…        1        5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> Battle of Tora Bora                  2001-12-12..2… US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> Battle of Shawali Kowt               2001-12-03   … US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span> Battle of Sayyd Alma Kalay           2001-12-04   … US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span> Battle of Amami-Oshima               2001-12-22   … JP-KP          0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">20</span> Tsotsin-Yurt operation               2001-12-30..2… RU-Che…        0        2</span></span></code></pre>
<p>Additional annotations for approximate dates, are indicated by adding
a <code>~</code> to year, month, or day components, or whole dates to
estimate values that are possibly correct. Day, month, or year,
uncertainty can also be indicated by adding a <code>?</code> to a
possibly dubious date or date component. If we are not sure about the
reliability of the sources for the “Battle of Shawali Kowt” and we think
the declared date for the battle is approximate, we can use
<code><a href="../reference/annotate.html">as_uncertain()</a></code> or <code><a href="../reference/annotate.html">as_approximate()</a></code> to annotate
these dates.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Battle</span> <span class="op">==</span> <span class="st">"Battle of Shawali Kowt"</span>, <span class="fu"><a href="../reference/annotate.html">as_uncertain</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span>, <span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Battle</span> <span class="op">==</span> <span class="st">"Battle of Sayyd Alma Kalay"</span>, <span class="fu"><a href="../reference/annotate.html">as_approximate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span>, <span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="va">battles</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20 × 5</span></span></span>
<span><span class="co">##    Battle                               Date           Parties US_party N_actors</span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                <span style="color: #949494; font-style: italic;">&lt;mdate&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Operation MH-2                       2001-03-08   … MK-Nat…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2001 Bangladesh–India border clashes 2001-04-16..2… BD-ID          0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Operation Vaksince                   2001-05-25.. … MK-Nat…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Alkhan-Kala operation                2001-06-22..2… RU-Che…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Battle of Vedeno                     2001-08-13..2… RU-Che…        0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Operation Crescent Wind              2001-10-07..2… US/UK-…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Operation Rhino                      2001-10-19..2… US-Tal…        1        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Battle of Mazar-e-Sharif             2001-11-09   … US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Siege of Kunduz                      2001-11-11..2… US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Battle of Herat                      ..2001-11-12 … US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> Battle of Kabul                      2001-11-13..2… US/Nor…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> Battle of Tarin Kowt                 2001-11-13..2… US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> Operation Trent                      2001-11-~15..… US/UK-…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> Battle of Kandahar                   2001-11-22..2… US/AU/…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> Battle of Qala-i-Jangi               2001-11-25..2… US/UK/…        1        5</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> Battle of Tora Bora                  2001-12-12..2… US/Nor…        1        4</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> Battle of Shawali Kowt               2001-12-03?  … US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span> Battle of Sayyd Alma Kalay           2001-12-04~  … US/Eas…        1        3</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span> Battle of Amami-Oshima               2001-12-22   … JP-KP          0        2</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">20</span> Tsotsin-Yurt operation               2001-12-30..2… RU-Che…        0        2</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="expand">Expand<a class="anchor" aria-label="anchor" href="#expand"></a>
</h3>
<p>Expand functions transform date ranges (annotated with ‘..’), sets of
dates (annotated with ‘{ , }’), and unspecified (missing date components
or annotated with ‘XX’), or approximate dates (annotated ‘~’) into lists
of dates. As these dates may refer to several possible dates, the
function “opens” these values to include all the possible dates implied.
Let’s expand the dates in the Battles dataset.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/expand.html">expand</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [[1]]</span></span>
<span><span class="co">## [1] "2001-03-08"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[2]]</span></span>
<span><span class="co">## [1] "2001-04-16" "2001-04-17" "2001-04-18" "2001-04-19" "2001-04-20"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[3]]</span></span>
<span><span class="co">## [1] "2001-05-25"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[4]]</span></span>
<span><span class="co">## [1] "2001-06-22" "2001-06-23" "2001-06-24" "2001-06-25" "2001-06-26"</span></span>
<span><span class="co">## [6] "2001-06-27" "2001-06-28"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[5]]</span></span>
<span><span class="co">##  [1] "2001-08-13" "2001-08-14" "2001-08-15" "2001-08-16" "2001-08-17"</span></span>
<span><span class="co">##  [6] "2001-08-18" "2001-08-19" "2001-08-20" "2001-08-21" "2001-08-22"</span></span>
<span><span class="co">## [11] "2001-08-23" "2001-08-24" "2001-08-25" "2001-08-26"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[6]]</span></span>
<span><span class="co">##  [1] "2001-10-07" "2001-10-08" "2001-10-09" "2001-10-10" "2001-10-11"</span></span>
<span><span class="co">##  [6] "2001-10-12" "2001-10-13" "2001-10-14" "2001-10-15" "2001-10-16"</span></span>
<span><span class="co">## [11] "2001-10-17" "2001-10-18" "2001-10-19" "2001-10-20" "2001-10-21"</span></span>
<span><span class="co">## [16] "2001-10-22" "2001-10-23" "2001-10-24" "2001-10-25" "2001-10-26"</span></span>
<span><span class="co">## [21] "2001-10-27" "2001-10-28" "2001-10-29" "2001-10-30" "2001-10-31"</span></span>
<span><span class="co">## [26] "2001-11-01" "2001-11-02" "2001-11-03" "2001-11-04" "2001-11-05"</span></span>
<span><span class="co">## [31] "2001-11-06" "2001-11-07" "2001-11-08" "2001-11-09" "2001-11-10"</span></span>
<span><span class="co">## [36] "2001-11-11" "2001-11-12" "2001-11-13" "2001-11-14" "2001-11-15"</span></span>
<span><span class="co">## [41] "2001-11-16" "2001-11-17" "2001-11-18" "2001-11-19" "2001-11-20"</span></span>
<span><span class="co">## [46] "2001-11-21" "2001-11-22" "2001-11-23" "2001-11-24" "2001-11-25"</span></span>
<span><span class="co">## [51] "2001-11-26" "2001-11-27" "2001-11-28" "2001-11-29" "2001-11-30"</span></span>
<span><span class="co">## [56] "2001-12-01" "2001-12-02" "2001-12-03" "2001-12-04" "2001-12-05"</span></span>
<span><span class="co">## [61] "2001-12-06" "2001-12-07" "2001-12-08" "2001-12-09" "2001-12-10"</span></span>
<span><span class="co">## [66] "2001-12-11" "2001-12-12" "2001-12-13" "2001-12-14" "2001-12-15"</span></span>
<span><span class="co">## [71] "2001-12-16" "2001-12-17" "2001-12-18" "2001-12-19" "2001-12-20"</span></span>
<span><span class="co">## [76] "2001-12-21" "2001-12-22" "2001-12-23" "2001-12-24" "2001-12-25"</span></span>
<span><span class="co">## [81] "2001-12-26" "2001-12-27" "2001-12-28" "2001-12-29" "2001-12-30"</span></span>
<span><span class="co">## [86] "2001-12-31"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[7]]</span></span>
<span><span class="co">## [1] "2001-10-19" "2001-10-20"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[8]]</span></span>
<span><span class="co">## [1] "2001-11-09"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[9]]</span></span>
<span><span class="co">##  [1] "2001-11-11" "2001-11-12" "2001-11-13" "2001-11-14" "2001-11-15"</span></span>
<span><span class="co">##  [6] "2001-11-16" "2001-11-17" "2001-11-18" "2001-11-19" "2001-11-20"</span></span>
<span><span class="co">## [11] "2001-11-21" "2001-11-22" "2001-11-23"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[10]]</span></span>
<span><span class="co">## [1] "2001-11-12"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[11]]</span></span>
<span><span class="co">## [1] "2001-11-13" "2001-11-14"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[12]]</span></span>
<span><span class="co">## [1] "2001-11-13" "2001-11-14"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[13]]</span></span>
<span><span class="co">##  [1] "2001-11-15" "2001-11-16" "2001-11-17" "2001-11-18" "2001-11-19"</span></span>
<span><span class="co">##  [6] "2001-11-20" "2001-11-21" "2001-11-22" "2001-11-23" "2001-11-24"</span></span>
<span><span class="co">## [11] "2001-11-25" "2001-11-26" "2001-11-27" "2001-11-28" "2001-11-29"</span></span>
<span><span class="co">## [16] "2001-11-30"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[14]]</span></span>
<span><span class="co">##  [1] "2001-11-22" "2001-11-23" "2001-11-24" "2001-11-25" "2001-11-26"</span></span>
<span><span class="co">##  [6] "2001-11-27" "2001-11-28" "2001-11-29" "2001-11-30" "2001-12-01"</span></span>
<span><span class="co">## [11] "2001-12-02" "2001-12-03" "2001-12-04" "2001-12-05" "2001-12-06"</span></span>
<span><span class="co">## [16] "2001-12-07"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[15]]</span></span>
<span><span class="co">## [1] "2001-11-25" "2001-11-26" "2001-11-27" "2001-11-28" "2001-11-29"</span></span>
<span><span class="co">## [6] "2001-11-30" "2001-12-01"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[16]]</span></span>
<span><span class="co">## [1] "2001-12-12" "2001-12-13" "2001-12-14" "2001-12-15" "2001-12-16"</span></span>
<span><span class="co">## [6] "2001-12-17"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[17]]</span></span>
<span><span class="co">## [1] "2001-12-03"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[18]]</span></span>
<span><span class="co">## [1] "2001-12-04"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[19]]</span></span>
<span><span class="co">## [1] "2001-12-22"</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## [[20]]</span></span>
<span><span class="co">## [1] "2001-12-30" "2001-12-31" "2002-01-01" "2002-01-02" "2002-01-03"</span></span></code></pre>
<p>Note that to expand approximate dates one needs to declare the range
to expand approximate dates using the ‘approx_range’ argument in
<code><a href="../reference/expand.html">expand()</a></code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/expand.html">expand</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span>, approx_range <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="contract">Contract<a class="anchor" aria-label="anchor" href="#contract"></a>
</h3>
<p>The <code><a href="../reference/contract.html">contract()</a></code> function operates as the opposite of
<code><a href="../reference/expand.html">expand()</a></code>. It contracts a list of dates into the abbreviated
annotation of messydates, picking the most succinct representation of
dates possible. We can contract back the dates in the Battles data
previously expanded.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>contract <span class="op">=</span> <span class="fu"><a href="../reference/contract.html">contract</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20 × 1</span></span></span>
<span><span class="co">##    contract              </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;mdate&gt;</span>               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 2001-03-08            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2001-04-16..2001-04-20</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 2001-05-25            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 2001-06-22..2001-06-28</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 2001-08-13..2001-08-26</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 2001-10-07..2001-12-31</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 2001-10-19..2001-10-20</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 2001-11-09            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 2001-11-11..2001-11-23</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> 2001-11-12            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> 2001-11-13..2001-11-14</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> 2001-11-13..2001-11-14</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> 2001-11-15..2001-11-30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> 2001-11-22..2001-12-07</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> 2001-11-25..2001-12-01</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> 2001-12-12..2001-12-17</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> 2001-12-03            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span> 2001-12-04            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span> 2001-12-22            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">20</span> 2001-12-30..2002-01-03</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="coerce-from-messydates">Coerce from messydates<a class="anchor" aria-label="anchor" href="#coerce-from-messydates"></a>
</h3>
<p>Coercion functions coerce objects of <code>mdate</code> class to
common date classes such as <code>Date</code>, <code>POSIXct</code>, and
<code>POSIXlt</code>. Since <code>mdate</code> objects can hold multiple
individual dates, an additional function must be passed as an argument
so that multiple dates are “resolved” into a single date.</p>
<p>For example, one might wish to use the earliest possible date in any
ranges of dates (<code>min</code>), the latest possible date
(<code>max</code>), some notion of a central tendency
(<code>mean</code>, <code>median</code>, or <code>modal</code>), or even
a <code>random</code> selection from among the candidate dates. These
functions are particularly useful for use with existing methods and
models, especially for checking the robustness of results.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span>, <span class="va">min</span><span class="op">)</span>,</span>
<span>               max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span>, <span class="va">max</span><span class="op">)</span>,</span>
<span>               median <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span>, <span class="va">median</span><span class="op">)</span>,</span>
<span>               mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span>, <span class="va">mean</span><span class="op">)</span>,</span>
<span>               modal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span>, <span class="va">modal</span><span class="op">)</span>,</span>
<span>               random <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span>, <span class="va">random</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20 × 6</span></span></span>
<span><span class="co">##    min        max        median     mean       modal      random    </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 2001-03-08 2001-03-08 2001-03-08 2001-03-08 2001-03-08 2001-03-08</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2001-04-16 2001-04-20 2001-04-18 2001-04-18 2001-04-16 2001-04-16</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 2001-05-25 2001-05-25 2001-05-25 2001-05-25 2001-05-25 2001-05-25</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 2001-06-22 2001-06-28 2001-06-25 2001-06-25 2001-06-22 2001-06-27</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 2001-08-13 2001-08-26 2001-08-20 2001-08-19 2001-08-13 2001-08-23</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 2001-10-07 2001-12-31 2001-11-19 2001-11-18 2001-10-07 2001-10-11</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 2001-10-19 2001-10-20 2001-10-20 2001-10-19 2001-10-19 2001-10-19</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 2001-11-09 2001-11-09 2001-11-09 2001-11-09 2001-11-09 2001-11-09</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 2001-11-11 2001-11-23 2001-11-17 2001-11-17 2001-11-11 2001-11-15</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> 2001-11-12 2001-11-12 2001-11-12 2001-11-12 2001-11-12 2001-11-12</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> 2001-11-13 2001-11-14 2001-11-14 2001-11-13 2001-11-13 2001-11-14</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> 2001-11-13 2001-11-14 2001-11-14 2001-11-13 2001-11-13 2001-11-13</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> 2001-11-15 2001-11-30 2001-11-23 2001-11-22 2001-11-15 2001-11-24</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> 2001-11-22 2001-12-07 2001-11-30 2001-11-29 2001-11-22 2001-12-06</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> 2001-11-25 2001-12-01 2001-11-28 2001-11-28 2001-11-25 2001-11-28</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> 2001-12-12 2001-12-17 2001-12-15 2001-12-14 2001-12-12 2001-12-14</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> 2001-12-03 2001-12-03 2001-12-03 2001-12-03 2001-12-03 2001-12-03</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span> 2001-12-04 2001-12-04 2001-12-04 2001-12-04 2001-12-04 2001-12-04</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span> 2001-12-22 2001-12-22 2001-12-22 2001-12-22 2001-12-22 2001-12-22</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">20</span> 2001-12-30 2002-01-03 2002-01-01 2002-01-01 2001-12-30 2001-12-30</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="additional-functionality">Additional functionality<a class="anchor" aria-label="anchor" href="#additional-functionality"></a>
</h3>
<p>Several other functions are offered in <a href="https://globalgov.github.io/messydates/">messydates</a>.</p>
<p>For example, we can run several logical tests to <code>mdate</code>
variables. <code><a href="../reference/logical_tests.html">is_messydate()</a></code> tests whether the object inherits
the <code>mdate</code> class. <code><a href="../reference/logical_tests.html">is_intersecting()</a></code> tests
whether there is any intersection between two messy dates.
<code><a href="../reference/logical_tests.html">is_subset()</a></code> similarly tests whether one or more messy dates
can be found within a messy date range or set. <code><a href="../reference/logical_tests.html">is_similar()</a></code>
tests whether two dates contain similar components.
<code><a href="../reference/logical_tests.html">is_precise()</a></code> tests whether certain date is precise.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/logical_tests.html">is_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/logical_tests.html">is_intersecting</a></span><span class="op">(</span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/logical_tests.html">is_subset</a></span><span class="op">(</span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2001-04-17"</span><span class="op">)</span>, <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/logical_tests.html">is_similar</a></span><span class="op">(</span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2001-08-03"</span><span class="op">)</span>, <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/logical_tests.html">is_precise</a></span><span class="op">(</span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<p>Additionally, one can perform intersection or union of
messydates.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">9</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="../reference/set.html">%intersect%</a></span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">10</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "2001-11-12"</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">17</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="../reference/set.html">%union%</a></span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="va">battles</span><span class="op">$</span><span class="va">Date</span><span class="op">[</span><span class="fl">18</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "2001-12-03" "2001-12-04"</span></span></code></pre>
<p>As well, we can do some arithmetic operations in the
<code>mdate</code> variable.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="st">"one day more"</span> <span class="op">=</span> <span class="va">battles</span><span class="op">$</span><span class="va">Date</span> <span class="op">+</span> <span class="fl">1</span>,</span>
<span>               <span class="st">"one day less"</span> <span class="op">=</span> <span class="va">battles</span><span class="op">$</span><span class="va">Date</span> <span class="op">-</span> <span class="st">"1 day"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 20 × 2</span></span></span>
<span><span class="co">##    `one day more`         `one day less`        </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;mdate&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;mdate&gt;</span>               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> 2001-03-09             2001-03-07            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> 2001-04-17..2001-04-21 2001-04-15..2001-04-19</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> 2001-05-26..           2001-05-24..          </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> 2001-06-23..2001-06-29 2001-06-21..2001-06-27</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> 2001-08-14..2001-08-27 2001-08-12..2001-08-25</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> 2001-10-08..2002-01-01 2001-10-06..2001-12-30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> 2001-10-20..2001-10-21 2001-10-18..2001-10-19</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> 2001-11-10             2001-11-08            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> 2001-11-12..2001-11-24 2001-11-10..2001-11-22</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> ..2001-11-13           ..2001-11-11          </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> 2001-11-14..2001-11-15 2001-11-12..2001-11-13</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> 2001-11-14..2001-11-15 2001-11-12..2001-11-13</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> 2001-11-16..2001-12-01 2001-11-14..2001-11-29</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> 2001-11-23..2001-12-08 2001-11-21..2001-12-06</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> 2001-11-26..2001-12-02 2001-11-24..2001-11-30</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">16</span> 2001-12-13..2001-12-18 2001-12-11..2001-12-16</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">17</span> 2001-12-04             2001-12-02            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">18</span> 2001-12-05             2001-12-03            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">19</span> 2001-12-23             2001-12-21            </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">20</span> 2001-12-31..2002-01-04 2001-12-29..2002-01-02</span></span></code></pre>
<p>Finally, one can run logical and proportional comparisons on mdate
objects.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-03"</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2012-06-02"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-03"</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2012-06-02"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-03"</span><span class="op">)</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2012-06-02"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-03"</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2012-06-02"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] FALSE</span></span></code></pre>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06"</span><span class="op">)</span> <span class="op"><a href="../reference/proportional.html">%g%</a></span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-02"</span><span class="op">)</span> <span class="co"># proportion greater than</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.9333333</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06"</span><span class="op">)</span> <span class="op"><a href="../reference/proportional.html">%l%</a></span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-02"</span><span class="op">)</span> <span class="co"># proportion smaller than</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.03333333</span></span></code></pre>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06"</span><span class="op">)</span> <span class="op"><a href="../reference/proportional.html">%ge%</a></span> <span class="st">"2012-06-02"</span>  <span class="co"># proportion greater or equal than</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.9666667</span></span></code></pre>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06"</span><span class="op">)</span> <span class="op"><a href="../reference/proportional.html">%le%</a></span> <span class="st">"2012-06-02"</span> <span class="co"># proportion smaller or equal than</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.06666667</span></span></code></pre>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06"</span><span class="op">)</span> <span class="op"><a href="../reference/proportional.html">%&gt;&lt;%</a></span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-15..2012-07-15"</span><span class="op">)</span>  <span class="co"># proportion of dates in the first vector and in the second vector (exclusive)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.516129</span></span></code></pre>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06"</span><span class="op">)</span> <span class="op"><a href="../reference/proportional.html">%&gt;=&lt;%</a></span> <span class="fu"><a href="../reference/messydate.html">as_messydate</a></span><span class="op">(</span><span class="st">"2012-06-15..2012-07-15"</span><span class="op">)</span>  <span class="co"># proportion of dates and in the first vector in the second vector (inclusive)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 0.5333333</span></span></code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://jameshollway.com" class="external-link">James Hollway</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
