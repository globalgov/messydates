<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Contributing • messydates</title><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet"><meta property="og:title" content="Contributing"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">messydates</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="index.html" aria-label="Take me home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/globalgov/messydates" aria-label="Take me to the Github repository"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Contributing</h1>
      <small class="dont-index">Source: <a href="https://github.com/globalgov/messydates/blob/main/.github/CONTRIBUTING.md" class="external-link"><code>.github/CONTRIBUTING.md</code></a></small>
    </div>

<div id="contributing" class="section level1">
<p>Contributions to <code>qData</code>, whether in the form of issue identification, bug fixes, new code or documentation are encouraged and welcome, both from research assistants and (early) users of the package:</p>
<ul><li><a href="#issues">Submit an issue</a></li>
<li><a href="#adding-new-code">Fix a bug or implement new features</a></li>
<li><a href="#documentation">Document existing code</a></li>
</ul><p>This outlines how to propose a change to a package from the Global Governance Observatory’s ecosystem. Please note that the <code>qData</code> project is released with a <a href="CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
<div class="section level2">
<h2 id="issues">Issues<a class="anchor" aria-label="anchor" href="#issues"></a></h2>
<p>Please use the issue tracker on GitHub to identify problems or suggest new functionality, before submitting changes to the code. We use issues to identify bugs and tasks, discuss feature requests, and to track implementation of changes.</p>
<p>When submitting an issue, please provide at least a ‘Type’ label that best describes what the issue is about. The most useful issues are ones that precisely identify a bug, or propose a test that should pass but instead fails.</p>
</div>
<div class="section level2">
<h2 id="adding-new-code">Adding new code<a class="anchor" aria-label="anchor" href="#adding-new-code"></a></h2>
<p>Independent or assigned code contributions are most welcome. When writing new code, please follow <a href="https://style.tidyverse.org/index.html" class="external-link">tidyverse style guide</a> which is based on <a href="https://google.github.io/styleguide/Rguide.xml" class="external-link">standard R guidelines</a>.</p>
<p>It can help to use packages such as <code>lintr</code> and <code>goodpractice</code> to ensure these are followed. These packages are incorporated into the checks made when a pull request is made. The <code>styler</code> package fixes in a non-invasive way the code to adhere to the tidyverse formatting rules, and it also provides an RStudio Addins to help with this task. To run the <code>lintr</code> and <code>goodpractice</code> checks or use <code>styler</code> in a file run:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># basic lintr checking</span></span>
<span><span class="fu">lintr</span><span class="fu">::</span><span class="fu"><a href="https://lintr.r-lib.org/reference/lint.html" class="external-link">lint_package</a></span><span class="op">(</span>path <span class="op">=</span> <span class="st">"qData/"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># goodpractices checks. Exclude length 80</span></span>
<span><span class="fu">goodpractice</span><span class="fu">::</span><span class="fu">gp</span><span class="op">(</span>path <span class="op">=</span> <span class="st">"qData/"</span>,</span>
<span>   checks <span class="op">=</span> <span class="fu">all_checks</span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># styler fix some of the styling issues</span></span>
<span><span class="fu">styler</span><span class="fu">::</span><span class="fu">style_file</span><span class="op">(</span><span class="st">"filePath"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="pull-request-process">Pull request process<a class="anchor" aria-label="anchor" href="#pull-request-process"></a></h2>
<p>The title of your PR should briefly describe the change. Please include a summary of the changes and which issues are fixed and the relevant motivation and context. List any dependencies that are required for this change, indicating whether this is a major (breaking), minor, or patch change. The body of your PR should contain <code>Fixes #issue-number</code>. A checklist is provided to check off the cases as the different elements listed have been completed to make sure all the steps have been respected. Make sure the package passes R CMD check by running <code>devtools::check()</code> before commiting changes to a pull request.</p>
<p>If you want to make a bigger change, it’s a good idea to first file an issue and make sure someone from the team agrees that it’s needed before openning a pull request. If you’ve found a bug, please file an issue that illustrates the bug with a minimal <a href="https://www.tidyverse.org/help/#reprex" class="external-link">reprex</a>.</p>
<p>Please follow the qData pull request guideline (<a href="https://github.com/globalgov/qData/blob/main/.github/pull_request_template.md" class="external-link uri">https://github.com/globalgov/qData/blob/main/.github/pull_request_template.md</a>)</p>
<div class="section level3">
<h3 id="branches">Branches<a class="anchor" aria-label="anchor" href="#branches"></a></h3>
<p>We use two <strong>main branches</strong> in this project:</p>
<ol style="list-style-type: decimal"><li><p>The <code>origin/main</code> branch is reserved for fully functional releases of the model. When the <code>develop</code> branch reaches a stable point, a code maintainer merges it back into to the <code>master</code> branch, and tags it with a release number there.</p></li>
<li><p>The <code>origin/develop</code> branch reflects the latest model development stage. Contributers are encouraged to submit minor changes to this branch that enhance existing functionality. New features that may break existing functionality should be committed to supporting branches.</p></li>
</ol><p>We use two types of <strong>supporting branches</strong>:</p>
<ol start="3" style="list-style-type: decimal"><li><p><em>Feature branches</em> are used to develop new functionality. They exist as long as the feature is developed, and are then either merged into the <code>develop</code> branch for incorporation in a release, or deleted if the feature is abandoned. Feature branches should branch off from <code>origin/develop</code>.</p></li>
<li><p><em>Hotfix branches</em> are used to provide fixes to severe bugs in the <code>main</code> branch. That way, the code maintainer does not have to incorporate (potentially unstable) changes from the <code>develop</code> branch to fix an issue. Branch names should be prefixed with <code>hotfix-</code>.</p></li>
</ol><p>This branching model is based on: <a href="https://nvie.com/posts/a-successful-git-branching-model/" class="external-link uri">https://nvie.com/posts/a-successful-git-branching-model/</a>.</p>
</div>
<div class="section level3">
<h3 id="main-branch-code-maintainer-only">Main Branch (code maintainer only)<a class="anchor" aria-label="anchor" href="#main-branch-code-maintainer-only"></a></h3>
<p>To create a release version of the code:</p>
<ol style="list-style-type: decimal"><li>Ensure that the repository is up-to-date: <code>git pull</code>.</li>
<li>Switch to the <strong>main</strong> branch: <code>git checkout master</code>.</li>
<li>Merge changes to the <strong>develop</strong> branch: <code>git merge --no-ff develop</code>.</li>
<li>Tag release version: <code>git tag -a VX.Y.Z -m "VERSION-NAME"</code>.</li>
<li>Push changes to this repository <code>git push origin master --tags</code>.</li>
</ol></div>
<div class="section level3">
<h3 id="develop-branch-minor-changes-to-existing-functionality">Develop Branch (minor changes to existing functionality)<a class="anchor" aria-label="anchor" href="#develop-branch-minor-changes-to-existing-functionality"></a></h3>
<p>To make minor changes directly to the <code>develop</code> branch, follow standard git procedures:</p>
<ol style="list-style-type: decimal"><li>Make sure you switched to the <strong>develop</strong> branch of the project: <code>git checkout -b develop</code>.</li>
<li>Make sure your local version of the code is up-to-date: <code>git pull origin develop</code>.</li>
<li>Make your changes</li>
<li>Stage your changes for a commit: <code>git add PATH-TO-CHANGED-FILE</code>.</li>
<li>Commit your changes <a href="#commit-messages">using an appropriate message</a>: <code>git commit -m "DESCRIPTION"</code>.</li>
<li>Push your commit: <code>git push origin develop</code>.</li>
</ol></div>
<div class="section level3">
<h3 id="feature-branches-new-functionality">Feature Branches (new functionality)<a class="anchor" aria-label="anchor" href="#feature-branches-new-functionality"></a></h3>
<p>To create a new feature branch: <code>git checkout -b myfeature develop</code>.</p>
<p>To merge a feature branch back into <code>develop</code>:</p>
<pre><code>git checkout develop
git merge --no-ff myfeature
git branch -d myfeature
git push origin develop</code></pre>
</div>
<div class="section level3">
<h3 id="hotfix-branches-to-fix-critical-bugs-in-release-versions">Hotfix Branches (to fix critical bugs in release versions)<a class="anchor" aria-label="anchor" href="#hotfix-branches-to-fix-critical-bugs-in-release-versions"></a></h3>
<p>To create a new hotfix branch: <code>git checkout -b hotfix-VERSION master</code>.</p>
<p>To merge a hotfix back into <code>master</code> (code maintainer only):</p>
<pre><code>git checkout master
git merge --no-ff hotfix-VERSION
git tag -a VERSION
git push origin develop</code></pre>
<p>And into develop:</p>
<pre><code>git checkout develop
git merge --no-ff hotfix-VERSION</code></pre>
<p>Every hotfix should increment the <a href="#versioning">PATCH digit of the version number</a>: a hotfix branch for <code>V1.3.0</code> is named <code>hotfix-V1.3.1</code>, and the new release is tagged as <code>V1.3.1</code>.</p>
<p>Once merged into <code>master</code> and <code>develop</code>, the hotfix branch can be deleted: <code>git branch -d hotfix-VERSION</code>.</p>
</div>
<div class="section level3">
<h3 id="commit-messages">Commit messages<a class="anchor" aria-label="anchor" href="#commit-messages"></a></h3>
<p>Commits that relate to existing issues should reference the updated status of those issues, and mention the issue number (preceded by a hash symbol: #) in the commit description:</p>
<p><code>Resolved #31 by adding a new function that does things, also updated documentation</code></p>
<p>Where the issue hash (i.e. #31) is preceded by <code>resolve</code>, <code>resolves</code>, <code>resolved</code>, <code>close</code>, <code>closes</code>, <code>closed</code>, <code>fix</code>, <code>fixes</code>, or <code>fixed</code> (capitalised or not), the status of the issue(s) mentioned is updated automatically. Our current syntactical standard is to mention the issue first and then provide a short description of what the committed changes do in relation to that issue. Any ancillary changes can be mentioned after a comma.</p>
<p>It should all be written in a single line, like so: #<code>{verb} {issue} {describe main action/changes}, {additional actions/changes}</code>.</p>
<p>Note that it is important to write a structured commit message to improve efficiency in collaboration. Please make sure of: * Making the title clear and concise with correct reference to an issue as described above. * Using a subject line in the description part when the commit message outlines many different changes. * Explaining in details the changes made and why you made them by using bullet points. * Separating each paragraph with a blank line.</p>
</div>
<div class="section level3">
<h3 id="testing">Testing<a class="anchor" aria-label="anchor" href="#testing"></a></h3>
<p>We use the <a href="https://testthat.r-lib.org/" class="external-link">testthat</a> package to write unit tests. By convention, tests are located in <a href="qData/tests/testthat">testthat/tests/</a>.</p>
<p>You should verify that all tests pass before issuing a commit to existing code. To run all tests for the latest version manually:</p>
<pre><code>git pull
library("testthat")
testthat::test_dir("tests/testthat")</code></pre>
<p>When writing a new function, consider writing a unit test for that function. We follow several conventions for writing tests:</p>
<ul><li><p>A unit test file should test one or more aspects of a single function. This makes it easier to identify the source of bugs, and prevents lower-level tests from failing when higher-level functions change.</p></li>
<li><p>The <a href="https://www.tidyverse.org/articles/2019/04/testthat-2-1-0/" class="external-link">naming convention</a> for test files is: <code>test-FILENAME_IN_R_DIRECTORY-FUNCTION_NAME.R</code>, i.e. test files are named after the file containing the original function in the <a href="qData/R">R</a> directory, pre-fixed with “test”, and optionally post-fixed with the name of the function that is being tested.</p></li>
<li><p>If a test requires auxiliary functions from the package, e.g. to initialize a network with sample data, these belong in a helper file. There should be only one helper file for each <code>R</code> file, named <code>helper-FILENAME_IN_R_DIRECTORY-FUNCTION_NAME.R</code>. Re-using existing test data is preferable to creating new data for every test.</p></li>
</ul></div>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a></h2>
<p>A final way of contributing to the package is in developing the vignettes/articles that illustrate the value added in the package. Please contact us directly with proposals for updating the documentation, or submit an issue if existing documentation is unclear.</p>
</div>
<div class="section level2">
<h2 id="versioning">Versioning<a class="anchor" aria-label="anchor" href="#versioning"></a></h2>
<p>Note that the package is versioned according to <a href="https://www.jvandemo.com/a-simple-guide-to-semantic-versioning/" class="external-link">semantic versioning</a>. This means that versions follow the Major.Minor.Patch semantic format.</p>
<p>Each minor or major level version is also given a new version name, which should be updated in the <code>zzz.R</code> file.</p>
</div>
<div class="section level2">
<h2 id="for-developers-using-macos">For developers using MacOS<a class="anchor" aria-label="anchor" href="#for-developers-using-macos"></a></h2>
<p>Develops using MacOS might meet problems compiling the packages since the compiling configuration of R in MacOS is usually incorrect. If one meet an error with error info “/usr/bin/ld: cannot find -lgfortran”, then he can either correct the configuration himself or follows the following steps to solve the problem: 1. Run “.libPaths()” command in R and get a path, e.g. one might get “/Library/Frameworks/R.framework/Versions/3.6/Resources/library” 2. If the path one get in the first step is “something/library”, then open the file “something/etc/Makeconf” and comment out the line starting with “FLIBS”. e.g. one might open the file " /Library/Frameworks/R.framework/Versions/3.6/Resources/etc/Makeconf" and change the line “FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm” to “#FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath - lm”</p>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://jameshollway.com" class="external-link">James Hollway</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

